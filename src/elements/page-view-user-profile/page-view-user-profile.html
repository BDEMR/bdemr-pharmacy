<link rel="import" href="../../bower-assets/paper-card/paper-card.html">
<link rel="import" href="../../bower-assets/paper-input/paper-input.html">
<link rel="import" href="../../bower-assets/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower-assets/paper-tabs/paper-tab.html">
<link rel="import" href="../../bower-assets/paper-menu/paper-menu.html">
<link rel="import" href="../../bower-assets/paper-item/paper-item.html">
<link rel="import" href="../../bower-assets/vaadin-date-picker/vaadin-date-picker.html">

<link rel="import" href="../../bower-assets/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower-assets/paper-menu/paper-menu.html">
<link rel="import" href="../../bower-assets/paper-item/paper-item.html">
<link rel="import" href="../../bower-assets/vaadin-date-picker/vaadin-date-picker.html">
<link rel="import" href="../../bower-assets/vaadin-combo-box/vaadin-combo-box.html">
<link rel="import" href="../../bower-assets/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../bower-assets/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower-assets/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../../bower-assets/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../../bower-assets/paper-toggle-button/paper-toggle-button.html">

<!-- style -->
<link rel="import" href="../../styles/common-style.html">

<!-- behavior -->
<link rel="import" href="../../behaviors/common-computes.html">
<link rel="import" href="../../behaviors/db-using.html">
<link rel="import" href="../../behaviors/translating.html">
<link rel="import" href="../../behaviors/page-like.html">
<link rel="import" href="../../behaviors/api-calling.html">

<!-- custom-elements -->

<!-- element -->
<dom-module id="page-view-user-profile">
  <template>

    <!-- style -->

    <style is="custom-style" include="common-style">
      .limiting-container {
        margin-top: 10px;
      }

      .patient-info-card-counter {
        margin-top: 20px;
        margin-left: 20px;
        margin-right: 10px;
        color: #777777;
      }

      .flat-back-btn {
        font-weight: bold;
        color: var(--brand-primary-color);
        text-transform: uppercase;
        font-size: 14px;
        /* background-color: #eee; */
      }

      .patient-info-cards {
        @apply(--layout-vertical);
        /*@apply(--layout-center);*/
        margin-top: 10px;
        margin-left: 10px;
        margin-right: 10px;
        padding-bottom: 20px;
      }

      .patient-info-cards .row {
        margin-left: 10px;
        /*margin-right: 10px;*/
        margin-top: 10px;
      }

      .patient-info-cards .hr {
        margin-left: 20px;
        margin-right: 20px;
        height: 1px;
        /*width: 100px;*/
        background: #dddddd;
      }

      .patient-info-cards .row .modifier {
        font-size: 14px;
        background: #000000;
        color: #ffffff;
        margin-left: 5px;
        padding-top: 2px;
        padding-bottom: 2px;
        padding-left: 4px;
        padding-right: 4px;
        border-radius: 4px;
        text-transform: uppercase;
      }

      .patient-info-cards .row .modifier.online {
        background: #757575;
      }

      .patient-info-cards .row .modifier.local-only {
        background: #039BE5;
      }

      .patient-info-cards .row .modifier.locally-updated {
        background: #009688;
      }

      .patient-info-cards .row .modifier.imported {
        background: #4CAF50;
      }

      /*.info-row {
        margin-top: 10px;
      }*/

      .top-info-row {
        margin-top: 10px;
        margin-bottom: 10px;
      }

      .serial-number {
        background: #37474F;
        color: #ffffff;
        margin-left: 5px;
        padding-top: 2px;
        padding-bottom: 2px;
        padding-left: 4px;
        padding-right: 4px;
        border-radius: 4px;
        text-transform: uppercase;
        font-weight: bold;
      }

      .address1 {
        margin-right: 10px;
      }

      .break-on-tablet {
        @apply(--layout-horizontal);
      }

      @media screen and (max-width: 740px) {
        .break-on-tablet {
          display: block;
        }
      }

      .val {
        text-decoration: underline;
      }

      .custom-input{
        margin-left: 8px;
        margin-right: 8px;
        width: calc(100% - 16px);
      }

      @media screen and (min-width: 656px) {
        .custom-input{
          width: calc(50% - 16px);
        }
      }

      @media screen and (min-width: 976px) {
        .custom-input{
          width: calc(33.33333% - 16px);
        }
      }

      .custom-checkbox {
        width: calc(100% - 16px);
        margin-left: 8px;
        margin-right: 8px;
      }

      @media screen and (min-width: 656px) {
        .custom-checkbox {
          width: calc(50% - 16px);
        }
      }

      @media screen and (min-width: 976px) {
        .custom-checkbox {
          width: calc(33.33333% - 16px);
        }
      }

      .card-custom-header {
        padding: 8px;
        /*border-bottom: 1px solid var(--paper-grey-200);*/
        background-color: var(--paper-grey-50);
      }

      .deep {
        background-color: var(--paper-grey-200);
      }

      .card-custom-header .title {
        font-size: 20px;
        font-weight: 500;
        color: var(--brand-primary-color);
      }

      vaadin-combo-box ::content paper-input-container {
        padding: 8px 0;
      }

      .custom-radio-button-group {
        margin: 8px;
        width: calc(100% - 16px);
      }

      @media screen and (min-width: 656px) {
        .custom-radio-button-group {
          width: calc(50% - 16px);
        }
      }

      @media screen and (min-width: 976px) {
        .custom-radio-button-group {
          width: calc(33.33333% - 16px);
        }
      }

      .btn-add {
        min-width: 3em;
      }

      .custom-item {
        padding: 6px 12px;
        border-radius: 6px;
        margin: 6px 4px;
        border: 1px solid #dadada;
        background-color: #fff
      }

      .full-width {
        width: calc(100% - 16px) !important;
      }

      .profile-image {
        height: 78px;
        width: 78px;
        border-radius: 50%;
        border: 2px solid #f7f7f7;
      }
      .card-item {
        border-radius: 6px;
        margin: 4px;
        border: 1px solid #eee;
        background-color: #fff;
      }
      .btn-add {
        min-width: 0;
        padding-top: 0.5em;
        padding-bottom: 0.5em;
        background-color: #eceff1;
        color: rgba(0, 0, 0, .87);
      }

      .btn-add.small {
        margin: 3px;
        font-size: 14px;
      }

      .custom-label {
        padding: 4px 8px;
        border: 1px solid #dadada;
        border-radius: 6px;
        margin: 8px;
        /*background-color: #f7f7f7;*/
        width: calc(100% - 26px);
      }

      @media screen and (min-width: 656px) {
        .custom-label {
          width: calc(50% - 26px);
        }
      }

      @media screen and (min-width: 976px) {
        .custom-label {
          width: calc(33.33333% - 26px);
        }
      }

      .bg-gray {
        padding: 3px 6px;
        display: table;
      }

      .custom-input ::content paper-input-container [suffix] {
        color: rgba(0,0,0, .54) !important;
      }

      .text-bold {
        font-weight: 500;
        color: rgba(0,0,0,.87);
      }
      .profile-image-area {
        position: relative;
        height: 128px;
        width: 128px;
      }

      #fileInput {
        position: absolute;
        height: 100%;
        width: 100%;
        left: 0;
        top: 0;
        cursor: pointer;
        opacity: 0;
      }

      #fileInput:hover {
        background-color: rgba(0,0,0, .56)
      }

      .p-horizontal-40 {
        padding-left: 40px;
        padding-right: 40px;
      }
      .user-avatar {
        height: 64px;
        width: 64px;
        border-radius: 50%;
      }

      .user-avatar.small {
        height: 36px;
        width: 36px;
      }

      .user-avatar.medium {
        height: inherit;
        width: inherit;
      }

      .sub-container {
        border: 1px solid #eee;
        border-radius: 6px;
        margin-top: 8px;
      }

      .sub-header {
        padding-left: 16px;
        font-weight: bold;
        background-color: #eee;
        border-bottom: 1px solid #eee;
      }
      .sub-content {
        padding: 8px;
      }
    </style>

    <!-- local DOM -->
    <div class="master-container">

      <div class="limiting-container">

        <!-- return to request page - Start -->
        <!-- <paper-card class="m-top-8">
        </paper-card> -->
          <!-- return to request page - end -->

        <!-- profile user details - start -->
        <paper-card>
          <div class="card-content horizontal layout wrap center">

            <div class="horizontal layout center-justified center m-right-16">
              <div class="profile-image-area">
                <iron-image class="user-avatar medium" src$="[[profileImage]]" preload sizing="cover"></iron-image>
              </div>
            </div>

            <div class="flex p-16">
          
              <paper-input class="m-top-8" label="Full Name" value="[[profileUser.fullName]]" readonly></paper-input>
              <vaadin-date-picker class="m-top-8" type="date" value="[[profileUser.dateOfBirth]]" label="Date of Birth" readonly></vaadin-date-picker>
              <paper-input class="m-top-8" label="Gender" value="[[profileUser.gender]]" readonly></paper-input>

              <paper-input class="m-top-8" readonly label="Phone Number" value="[[profileUser.phone]]" type="text">
                <div hidden$="{{!user.isPhoneNumberVerified}}" suffix><iron-icon class="icon primary" icon="icons:verified-user"></iron-icon></div>
              </paper-input>
              <paper-input class="m-top-8" readonly value="[[profileUser.email]]" label="Email Address">
                <div hidden$="{{!user.isEmailAddressVerified}}" suffix><iron-icon class="icon primary" icon="icons:verified-user"></iron-icon></div>
              </paper-input>
              

              <!--Doctor BMDC Number and Doctor TYpe can be found here-->
              <template is="dom-repeat" items="[[profileUser.roles]]">
                <template is="dom-if" if="[[$equals(item.roleType, 'doctor')]]">
                  <template is="dom-repeat" items="[[item.requiredData]]">
                    <template is="dom-if" if="[[$equals(item.type, 'bmdc-number')]]">
                      <paper-input readonly label="BMDC Number" value="{{item.value}}" type="text"></paper-input>
                    </template>
                    <template is="dom-if" if="[[$equals(item.type, 'doctor-type')]]">
                      <paper-input readonly label="Doctor Type" value="{{item.value}}" type="text"></paper-input>
                    </template>
                  </template>
                </template>
              </template>
              <!--Doctor BMDC Number and Doctor TYpe Ends here-->
            </div>
          </div>
        </paper-card>
        <!-- profile user details - end -->


        <!-- basic - start -->
        <paper-card class="m-top-8">
          <div class="card-content">
            <div class="type body-lead primary">Additional</div>
            <paper-input value="[[profileUser.nationalIdCardNumber]]" label="National ID" readonly></paper-input>
            <paper-input label="Blood Group" value="[[profileUser.bloodGroup]]" readonly></paper-input>
            <div class="type caption secondary m-top-8"></div>
          </div>
        </paper-card>
        <!-- basic - end -->

        <!-- adddress - start -->
        <paper-card class="m-top-8">
          <div class="card-content">
            <div class="horizontal layout center">
              <div class="type body-lead primary flex">Address</div>
            </div>
            <template is="dom-repeat" items="[[profileUser.addressList]]">
              <div class="sub-container">
                <div class="sub-header horizontal layout center">
                  <div class="type caption-2 secondary m-horizontal-4 flex">Address #{{$returnSerial(index)}}</div>
                </div>
                <div class="sub-content">
                  <paper-input readonly class="custom-input full-width" value="{{item.addressTitle}}" label="Address Title"></paper-input>
                  <paper-input readonly class="custom-input full-width" value="{{item.addressLine1}}" label="Address Line 1"></paper-input>
                  <paper-input readonly class="custom-input full-width" value="{{item.addressLine2}}" label="Address Line 2"></paper-input>
      
                  <div class="horizontal layout wrap">
                    <paper-input readonly class="flex custom-input" value="{{item.addressDistrict}}" label="Disctrict"></paper-input>
                    <paper-input readonly class="custom-input" value="{{item.subdistrictName}}" label="Thana/Sub Disctrict"></paper-input>
                  </div>
      
                  <paper-input readonly class="custom-input full-width" value="{{item.addressCountry}}" label="Country"></paper-input>
      
                  <div class="horizontal layout end-justified p-8">
                    <paper-toggle-button class="m-left-16" checked="{{item.hideMoreAddressInput}}">More Address options</paper-toggle-button>
                  </div>
      
                  <div class="horizontal layout wrap" hidden$="[[!item.hideMoreAddressInput]]">
                    <paper-input readonly class="custom-input" value="{{item.addressAreaName}}" label="Area"></paper-input>
                    <paper-input readonly class="custom-input" value="{{item.flat}}" label="Flat"></paper-input>
                    <paper-input readonly class="custom-input" value="{{item.floor}}" label="Floor"></paper-input>
                    <paper-input readonly class="custom-input" value="{{item.plot}}" label="Plot"></paper-input>
                  
                    <paper-input readonly class="custom-input" value="{{item.block}}" label="Block"></paper-input>
                    <paper-input readonly class="custom-input" value="{{item.road}}" label="Road"></paper-input>
                    <paper-input readonly class="custom-input" value="{{item.village}}" label="Village"></paper-input>
                  
                    <paper-input readonly class="custom-input" value="{{item.addressUnion}}" label="Union"></paper-input>
      
                    <paper-input readonly class="custom-input" value="{{item.addressPostalOrZipCode}}" label="Postal/Zip Code"></paper-input>
                    <paper-input readonly class="custom-input" value="{{item.addressCityOrTown}}" label="City/Town"></paper-input>
      
                    <paper-input readonly class="custom-input" value="{{item.stateOrProvince}}" label="State/Province"></paper-input>
                  </div>
                </div>
              </div>
            </template>
          </div>
        </paper-card>
        <!-- address - end -->

        <!-- Roles - Start -->
        <paper-card class="m-top-8">
          <div class="card-content">

            <div class="horizontal layout center">
              <div class="type body-lead primary flex">Roles</div>
            </div>
            <template is="dom-repeat" items="[[profileUser.roles]]">
              <div class="sub-container">
                <div class="sub-header horizontal layout center">
                  <div class="type caption-2 secondary m-horizontal-4 flex"></div>
                </div>
              </div>
              <div class="horizontal layout center sub-content">
                <ul>
                  <li>{{item.roleName}}</li>
                </ul>
                <div class="flex"></div>
              </div>
            </template>
          </div>
        </paper-card>
        <!-- Roles - end -->

        <!-- Specialization - Start -->
        <paper-card class="m-top-8">
          <div class="card-content">

            <div class="horizontal layout center">
              <div class="type body-lead primary flex">Specialization</div>
            </div>
            <template is="dom-repeat" items="[[profileUser.specializationList]]">
              <div class="sub-container">
                <div class="sub-header horizontal layout center">
                  <div class="type caption-2 secondary m-horizontal-4 flex">Specialization #{{$returnSerial(index)}}</div>
                </div>
              </div>
              <div class="sub-content">
                <paper-input readonly class="custom-input full-width" value="{{item.specializationTitle}}" no-label-float></paper-input>
              </div>
            </template>
          </div>
        </paper-card>
        <!-- Specialization - end -->

        <!-- Employment Details - Start -->
        <paper-card class="m-top-8">
          <div class="card-content">

            <div class="horizontal layout center">
              <div class="type body-lead primary flex">Employment Details</div>
            </div>
            <template is="dom-repeat" items="[[profileUser.employmentDetailsList]]">
              <div class="sub-container">
                <div class="sub-header horizontal layout center">
                  <div class="type caption-2 secondary m-horizontal-4 flex">Employment Details #{{$returnSerial(index)}}</div>
                </div>
              </div>
              <div class="sub-content">
                <paper-input readonly class="custom-input full-width" value="{{item.currentPosition}}" label="Current Position"></paper-input>
                <paper-input readonly class="custom-input full-width" value="{{item.institutionName}}" label="Institution Name"></paper-input>
                <paper-input readonly class="custom-input full-width" value="{{item.institutionAddress}}" label="Institution Address"></paper-input>
                <paper-input readonly class="custom-input full-width" value="{{item.institutionWebsiteLink}}" label="Institution Website Link"></paper-input>
              </div>
            </template>
          </div>
        </paper-card>
        <!-- Employment Details - end -->

        <!-- Degree Details - Start -->
        <paper-card class="m-top-8">
          <div class="card-content">
            <div class="horizontal layout center">
              <div class="type body-lead primary flex">Degree Details</div>
            </div>
            <template is="dom-repeat" items="[[profileUser.degreeList]]">
              <div class="sub-container">
                <div class="sub-header horizontal layout center">
                  <div class="type caption-2 secondary m-horizontal-4 flex">Degree Details #{{$returnSerial(index)}}</div>
                </div>
              </div>
              <div class="sub-content">
                <paper-input readonly class="custom-input full-width" value="{{item.degreeTitle}}" label="Degree"></paper-input>
                <paper-input readonly class="custom-input full-width" value="{{item.degreeInstitution}}" label="Institution Name"></paper-input>
                <paper-input readonly  class="custom-input full-width" label="Year" value="{{item.degreeYear}}" pattern="[0-9]*"></paper-input>
                <paper-input readonly class="custom-input full-width" value="{{item.degreeDetails}}" label="Degree Details"></paper-input>
              </div>
            </template>
          </div>
        </paper-card>
        <!-- Degree Details - end -->

        <!-- Award Details - Start -->
        <paper-card class="m-top-8">
          <div class="card-content">

            <div class="horizontal layout center">
              <div class="type body-lead primary flex">Award Details</div>
            </div>
            <template is="dom-repeat" items="[[profileUser.awardList]]">
              <div class="sub-container">
                <div class="sub-header horizontal layout center">
                  <div class="type caption-2 secondary m-horizontal-4 flex">Award Details #{{$returnSerial(index)}}</div>
                </div>
              </div>
              <div class="sub-content">
                <paper-input class="custom-input full-width" value="{{item.awardTitle}}" label="Award Name"></paper-input>
                <paper-input class="custom-input full-width" value="{{item.awardDetails}}" label="Award Details"></paper-input>
                <paper-input  class="custom-input full-width" label="Year" value="{{item.awardYear}}" pattern="[0-9]*"></paper-input>
                <paper-input class="custom-input full-width" value="{{item.awardWebUrl}}" label="Award Releated Website Link"></paper-input>
              </div>
            </template>
          </div>
        </paper-card>
        <!-- Award Details - end -->

        <!-- Publication Details - Start -->
        <paper-card class="m-top-8">
          <div class="card-content">

            <div class="horizontal layout center">
              <div class="type body-lead primary flex">Publication Details</div>
            </div>
            <template is="dom-repeat" items="[[profileUser.publicationList]]">
              <div class="sub-container">
                <div class="sub-header horizontal layout center">
                  <div class="type caption-2 secondary m-horizontal-4 flex">Publication Details #{{$returnSerial(index)}}</div>
                </div>
              </div>
              <div class="sub-content">
                <paper-input class="custom-input full-width" value="{{item.publicationTitle}}" label="Publication Title"></paper-input>
                <paper-input class="custom-input full-width" value="{{item.publicationUrl}}" label="Publication URL"></paper-input>
              </div>
            </template>
          </div>
        </paper-card>
        <!-- Publication Details - end -->

        <!-- Fax Number Details - Start -->
        <paper-card class="m-top-8">
          <div class="card-content">

            <div class="horizontal layout center">
              <div class="type body-lead primary flex">Fax Numbers</div>
            </div>
            <template is="dom-repeat" items="[[profileUser.faxNumberList]]">
              <div class="sub-container">
                <div class="sub-header horizontal layout center">
                  <div class="type caption-2 secondary m-horizontal-4 flex">Fax Numbers #{{$returnSerial(index)}}</div>
                </div>
              </div>
              <div class="sub-content">
                <paper-input class="custom-input full-width" value="{{item.faxNumber}}" label="Fax Number"></paper-input>
                <paper-input class="custom-input full-width" value="{{item.faxNumberType}}" label="Fax Number Type"></paper-input>
              </div>
            </template>
          </div>
        </paper-card>
        <!-- Fax Number Details - end -->

        <!-- Social Connection Details - Start -->
        <paper-card class="m-top-8">
          <div class="card-content">

            <div class="horizontal layout center">
              <div class="type body-lead primary flex">Social Connection Details</div>
            </div>
            <template is="dom-repeat" items="[[profileUser.socialConnectionList]]">
              <div class="sub-container">
                <div class="sub-header horizontal layout center">
                  <div class="type caption-2 secondary m-horizontal-4 flex">Social Connection Details #{{$returnSerial(index)}}</div>
                </div>
              </div>
              <div class="sub-content">
                <paper-input class="custom-input full-width" value="{{item.socialConnectionTitle}}" label="Social Media Name"></paper-input>
                <paper-input class="custom-input full-width" value="{{item.socialConnectionUrl}}" label="Your Profile URL"></paper-input>
              </div>
            </template>
          </div>
        </paper-card>
        <!-- Social Connection Details - end -->

        <!-- Website List Details - Start -->
        <paper-card class="m-top-8">
          <div class="card-content">

            <div class="horizontal layout center">
              <div class="type body-lead primary flex">Website List</div>
            </div>
            <template is="dom-repeat" items="[[profileUser.websiteList]]">
              <div class="sub-container">
                <div class="sub-header horizontal layout center">
                  <div class="type caption-2 secondary m-horizontal-4 flex">Website List #{{$returnSerial(index)}}</div>
                </div>
              </div>
              <div class="sub-content">
                <paper-input class="custom-input full-width" value="{{item.websiteTitle}}" label="Website Name"></paper-input>
                <paper-input class="custom-input full-width" value="{{item.websiteUrl}}" label="Website URL"></paper-input>
              </div>
            </template>
          </div>
        </paper-card>
        <!-- Website List Details - end -->

        <!-- Action - Start -->
        <paper-card class="m-top-8">
          <div class="card-actions">
            <template is="dom-if" if="[[!profileUser.isProfileVerified]]">
              <paper-button raised on-tap="verifyUserButtonPressed" class="btn btn-success btn-large">Verify User</paper-button>
            </template>

            <template is="dom-if" if="[[profileUser.isProfileVerified]]">
              <div>
                <span class="type bg-gray success">Profile verified by : [[$getFullName(profileUser.profileVerifiedByUser.name)]]</span>
                <!-- <strong>Profile verified by : [[$getFullName(profileUser.profileVerifiedByUser.name)]] on [[$formatDate(profileUser.profileVerifiedDateTime)]]</strong> -->
              </div>
            </template>

          </div>
        </paper-card>
          <!-- Action - end -->

        

      </div>
    </div>

  </template>
  <script src="page-view-user-profile.coffee-compiled.js"></script>
</dom-module>
