<link rel="import" href="../../bower-assets/paper-card/paper-card.html">
<link rel="import" href="../../bower-assets/paper-input/paper-input.html">
<link rel="import" href="../../bower-assets/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower-assets/paper-tabs/paper-tab.html">
<link rel="import" href="../../bower-assets/paper-menu/paper-menu.html">
<link rel="import" href="../../bower-assets/paper-item/paper-item.html">
<link rel="import" href="../../bower-assets/vaadin-date-picker/vaadin-date-picker.html">

<link rel="import" href="../../bower-assets/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower-assets/paper-menu/paper-menu.html">
<link rel="import" href="../../bower-assets/paper-item/paper-item.html">
<link rel="import" href="../../bower-assets/vaadin-date-picker/vaadin-date-picker.html">
<link rel="import" href="../../bower-assets/vaadin-combo-box/vaadin-combo-box.html">
<link rel="import" href="../../bower-assets/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../bower-assets/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower-assets/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../../bower-assets/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../../bower-assets/paper-toggle-button/paper-toggle-button.html">

<!-- style -->
<link rel="import" href="../../styles/common-style.html">

<!-- behavior -->
<link rel="import" href="../../behaviors/common-computes.html">
<link rel="import" href="../../behaviors/db-using.html">
<link rel="import" href="../../behaviors/translating.html">
<link rel="import" href="../../behaviors/page-like.html">
<link rel="import" href="../../behaviors/api-calling.html">

<!-- custom-elements -->

<!-- element -->
<dom-module id="page-profile-editor">
  <template>

    <!-- style -->

    <style is="custom-style" include="common-style">
      .limiting-container {
        margin-top: 10px;
      }

      .patient-info-card-counter {
        margin-top: 20px;
        margin-left: 20px;
        margin-right: 10px;
        color: #777777;
      }

      .flat-back-btn {
        font-weight: bold;
        color: var(--brand-primary-color);
        text-transform: uppercase;
        font-size: 14px;
        /* background-color: #eee; */
      }

      .patient-info-cards {
        @apply(--layout-vertical);
        /*@apply(--layout-center);*/
        margin-top: 10px;
        margin-left: 10px;
        margin-right: 10px;
        padding-bottom: 20px;
      }

      .patient-info-cards .row {
        margin-left: 10px;
        /*margin-right: 10px;*/
        margin-top: 10px;
      }

      .patient-info-cards .hr {
        margin-left: 20px;
        margin-right: 20px;
        height: 1px;
        /*width: 100px;*/
        background: #dddddd;
      }

      .patient-info-cards .row .modifier {
        font-size: 14px;
        background: #000000;
        color: #ffffff;
        margin-left: 5px;
        padding-top: 2px;
        padding-bottom: 2px;
        padding-left: 4px;
        padding-right: 4px;
        border-radius: 4px;
        text-transform: uppercase;
      }

      .patient-info-cards .row .modifier.online {
        background: #757575;
      }

      .patient-info-cards .row .modifier.local-only {
        background: #039BE5;
      }

      .patient-info-cards .row .modifier.locally-updated {
        background: #009688;
      }

      .patient-info-cards .row .modifier.imported {
        background: #4CAF50;
      }

      /*.info-row {
        margin-top: 10px;
      }*/

      .top-info-row {
        margin-top: 10px;
        margin-bottom: 10px;
      }

      .serial-number {
        background: #37474F;
        color: #ffffff;
        margin-left: 5px;
        padding-top: 2px;
        padding-bottom: 2px;
        padding-left: 4px;
        padding-right: 4px;
        border-radius: 4px;
        text-transform: uppercase;
        font-weight: bold;
      }

      .address1 {
        margin-right: 10px;
      }

      .break-on-tablet {
        @apply(--layout-horizontal);
      }

      @media screen and (max-width: 740px) {
        .break-on-tablet {
          display: block;
        }
      }

      .val {
        text-decoration: underline;
      }

      .custom-input{
        margin-left: 8px;
        margin-right: 8px;
        width: calc(100% - 16px);
      }

      @media screen and (min-width: 656px) {
        .custom-input{
          width: calc(50% - 16px);
        }
      }

      @media screen and (min-width: 976px) {
        .custom-input{
          width: calc(33.33333% - 16px);
        }
      }

      .custom-checkbox {
        width: calc(100% - 16px);
        margin-left: 8px;
        margin-right: 8px;
      }

      @media screen and (min-width: 656px) {
        .custom-checkbox {
          width: calc(50% - 16px);
        }
      }

      @media screen and (min-width: 976px) {
        .custom-checkbox {
          width: calc(33.33333% - 16px);
        }
      }

      .card-custom-header {
        padding: 8px;
        /*border-bottom: 1px solid var(--paper-grey-200);*/
        background-color: var(--paper-grey-50);
      }

      .deep {
        background-color: var(--paper-grey-200);
      }

      .card-custom-header .title {
        font-size: 20px;
        font-weight: 500;
        color: var(--brand-primary-color);
      }

      vaadin-combo-box ::content paper-input-container {
        padding: 8px 0;
      }

      .custom-radio-button-group {
        margin: 8px;
        width: calc(100% - 16px);
      }

      @media screen and (min-width: 656px) {
        .custom-radio-button-group {
          width: calc(50% - 16px);
        }
      }

      @media screen and (min-width: 976px) {
        .custom-radio-button-group {
          width: calc(33.33333% - 16px);
        }
      }

      .btn-add {
        min-width: 3em;
      }

      .custom-item {
        padding: 6px 12px;
        border-radius: 6px;
        margin: 6px 4px;
        border: 1px solid #dadada;
        background-color: #fff
      }

      .full-width {
        width: calc(100% - 16px) !important;
      }

      .profile-image {
        height: 78px;
        width: 78px;
        border-radius: 50%;
        border: 2px solid #f7f7f7;
      }
      .card-item {
        border-radius: 6px;
        margin: 4px;
        border: 1px solid #eee;
        background-color: #fff;
      }
      .btn-add {
        min-width: 0;
        padding-top: 0.5em;
        padding-bottom: 0.5em;
        background-color: #eceff1;
        color: rgba(0, 0, 0, .87);
      }

      .btn-add.small {
        margin: 3px;
        font-size: 14px;
      }

      .custom-label {
        padding: 4px 8px;
        border: 1px solid #dadada;
        border-radius: 6px;
        margin: 8px;
        /*background-color: #f7f7f7;*/
        width: calc(100% - 26px);
      }

      @media screen and (min-width: 656px) {
        .custom-label {
          width: calc(50% - 26px);
        }
      }

      @media screen and (min-width: 976px) {
        .custom-label {
          width: calc(33.33333% - 26px);
        }
      }

      .bg-gray {
        padding: 3px 6px;
        display: table;
      }

      .custom-input ::content paper-input-container [suffix] {
        color: rgba(0,0,0, .54) !important;
      }

      .text-bold {
        font-weight: 500;
        color: rgba(0,0,0,.87);
      }
      
      .profile-image-area {
        position: relative;
        height: 128px;
        width: 128px;
      }

      #fileInput {
        position: absolute;
        height: 100%;
        width: 100%;
        left: 0;
        top: 0;
        cursor: pointer;
        opacity: 0;
      }

      #fileInput:hover {
        background-color: rgba(0,0,0, .56)
      }

      .p-horizontal-40 {
        padding-left: 40px;
        padding-right: 40px;
      }
      .user-avatar {
        height: 64px;
        width: 64px;
        border-radius: 50%;
      }

      .user-avatar.small {
        height: 36px;
        width: 36px;
      }

      .user-avatar.medium {
        height: inherit;
        width: inherit;
      }

      .sub-container {
        border: 1px solid #eee;
        border-radius: 6px;
        margin-top: 8px;
      }

      .sub-header {
        padding-left: 16px;
        font-weight: bold;
        background-color: #eee;
        border-bottom: 1px solid #eee;
      }
      .sub-content {
        padding: 8px;
      }
    </style>

    <!-- local DOM -->
    <div class="master-container">

      <div class="limiting-container">


        <!-- patient details - start -->
        <paper-card>
          <div class="card-content horizontal layout wrap center">

            <div class="horizontal layout center-justified center m-right-16">
              <div class="profile-image-area">
                <iron-image class="user-avatar medium" src$="[[profileImage]]" preload sizing="cover"></iron-image>
                <input id="fileInput" type="file" accept="image/*" on-change="fileInputChanged"></paper-input>
              </div>
            </div>

            <div class="flex p-16">
              <paper-input label="[[$TRANSLATE('Full Name', LANG)]]" value="{{user.fullName}}" auto-validate error-message="Full Name is Required!" char-counter minlength="2" maxlength="30"></paper-input>
              <vaadin-date-picker required auto-validate error-message="Date of Birth is Required!" type="date" value="{{user.dateOfBirth}}" label="[[$TRANSLATE('Date of Birth', LANG)]]"></vaadin-date-picker>
              <div class="type caption secondary m-top-8">[[$TRANSLATE('Gender', LANG)]]</div>
              <paper-radio-group selected="{{user.gender}}">
                <template is="dom-repeat" items="[[genderList]]">
                  <paper-radio-button name="{{item}}" style="text-transform: capitalize">{{item}}</paper-radio-button>
                </template>
              </paper-radio-group>
              <paper-input disabled label="[[$TRANSLATE('Phone Number', LANG)]]" value="{{user.phone}}" type="text" pattern="[0-9]*" auto-validate error-message="Phone number must be 11 digit number!" char-counter minlength="11" maxlength="11">
                <div hidden$="{{!user.isPhoneNumberVerified}}" suffix><iron-icon class="icon primary" icon="icons:verified-user"></iron-icon></div>
              </paper-input>
              <paper-input disabled value="{{user.email}}" label="[[$TRANSLATE('Email Address', LANG)]]" pattern="^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$" auto-validate error-message="Please type valid email address.">
                <div hidden$="{{!user.isEmailAddressVerified}}" suffix><iron-icon class="icon primary" icon="icons:verified-user"></iron-icon></div>
              </paper-input>
              <paper-input label="[[$TRANSLATE('Doctor Access Pin Code', LANG)]]" value="{{user.doctorAccessPin}}" type="number" pattern="[0-9]*" auto-validate error-message="Pincode must be 4 digit number!" char-counter minlength="4" maxlength="4"></paper-input>
              
              <!--Doctor BMDC Number and Doctor TYpe can be found here-->
              <template is="dom-repeat" items="[[user.roles]]">
                <template is="dom-if" if="[[$equals(item.roleType, 'doctor')]]">
                  <template is="dom-repeat" items="[[item.requiredData]]">
                    <template is="dom-if" if="[[$equals(item.type, 'bmdc-number')]]">
                      <div>
                        <div class="horizontal layout center">
                          <paper-input label="[[$TRANSLATE('BMDC Number', LANG)]]" class="flex" value="{{item.value}}" type="text"></paper-input>
                          <div class="type success" hidden$="{{!user.isBmdcNumberVerified}}">
                            <iron-icon class="icon primary" icon="icons:verified-user"></iron-icon>[[$TRANSLATE('Verified', LANG)]]
                          </div>
                          <div class="type danger" hidden$="{{user.isBmdcNumberVerified}}">
                            <iron-icon class="icon danger" icon="icons:close"></iron-icon>[[$TRANSLATE('UnVerified', LANG)]]
                          </div>
                        </div>
                        <!-- <template is="dom-if" if="{{!user.isBmdcNumberVerified}}">
                          <div class="horizontal layout end-justified">
                            <paper-button id="sendVerifiedationRequest" class="colored" on-tap="_sendVerificationRequest" raised>Send Verification Request</paper-button>
                          </div>
                        </template> -->
                      </div>
                    </template>
                    <template is="dom-if" if="[[$equals(item.type, 'doctor-type')]]">
                      <paper-input label="[[$TRANSLATE('Doctor Type', LANG)]]" value="{{item.value}}" type="text"></paper-input>
                    </template>
                  </template>
                </template>
              </template>
              <!--Doctor BMDC Number and Doctor TYpe Ends here-->

              <template is="dom-if" if="[[user.profileVerification.isProfileVerified]]">
                <div class="layout horizontal m-top-16">
                  <div class="flex"></div>
                  <span class="type caption-2 bg-gray success">[[$TRANSLATE('Profile verified by', LANG)]] : [[user.profileVerification.profileVerifiedByUser]]</span>
                </div>
              </template>

            </div>
          </div>
        </paper-card>
        <!-- patient details - end -->

        <!-- Phonenumber list - start -->
        <paper-card class="m-top-8">
          <div class="card-content">
            <div class="type body-lead primary">[[$TRANSLATE('Phone Number List', LANG)]]</div>
            
            <template is="dom-repeat" items="[[user.phoneNumberList]]">
              <paper-item class="custom layout horizontal center">
                <div class="type caption secondary">[[$returnSerial(index)]]. </div>
                <div class="flex m-left-8">{{item.phoneNumber}}</div>
                <div class="type body"><span class="type success" hidden$="{{!item.isPhoneNumberVerified}}">[[$TRANSLATE('Verified', LANG)]]</span><span hidden$="{{item.isPhoneNumberVerified}} class="type danger">[[$TRANSLATE('Unverified', LANG)]]</span></div>
                
              </paper-item>
            </template>

            <div class="card-actions">
              <paper-button raised on-tap="_showAddPhoneNumberDialog" class="btn btn-primary">[[$TRANSLATE('Add Phone Number', LANG)]]</paper-button>
            </div>
          </div>
        </paper-card>

        <!-- Phonenumber list - end -->

        <!-- Email Address list - start -->
        <!-- <paper-card class="m-top-8">
          <div class="card-content">
            <div class="type body-lead primary">Email Address List</div>
            
            <template is="dom-repeat" items="[[user.emailAddressList]]">
              <paper-item class="custom layout horizontal center">
                <div class="type caption secondary">[[$returnSerial(index)]]. </div>
                <div class="flex m-left-8">{{item.emailAddress}}</div>
                <div class="type body"><span class="type success" hidden$="{{!item.isEmailAddressVerified}}">Verified</span><span hidden$="{{item.isEmailAddressVerified}} class="type danger">Unverified</span></div>
                
              </paper-item>
            </template>

            <div class="card-actions">
              <paper-button raised on-tap="_showAddEmaliAddressDialog" class="btn btn-primary">Add New Email</paper-button>
            </div>
          </div>
        </paper-card> -->

        <!-- Email Address list - end -->

        <!-- basic - start -->
        <paper-card class="m-top-8">
          <div class="card-content">
            <div class="type body-lead primary">[[$TRANSLATE('Additional', LANG)]]</div>
            <paper-input type="number" value="{{user.nationalIdCardNumber}}" label="[[$TRANSLATE('National ID', LANG)]]" pattern="[0-9]*" auto-validate error-message="NID must be a 10 digit number!" char-counter minlength="10" maxlength="16"></paper-input>
            <div class="type caption secondary m-top-8">[[$TRANSLATE('Blood Group', LANG)]]</div>
            <paper-radio-group selected="{{user.bloodGroup}}">
              <template is="dom-repeat" items="[[bloodGroupList]]">
                <paper-radio-button name="{{item}}" style="text-transform: capitalize">{{item}}</paper-radio-button>
              </template>
            </paper-radio-group>
            <paper-input value="{{user.academicStatus}}" label="[[$TRANSLATE('Academic Status', LANG)]]" auto-validate error-message="Academic Status is Required!" char-counter minlength="2" maxlength="30"></paper-input>
          </div>
        </paper-card>
        <!-- basic - end -->

        <!-- adddress - start -->
        <paper-card class="m-top-8">
          <div class="card-content">
            <div class="horizontal layout center">
              <div class="type body-lead primary flex">[[$TRANSLATE('Address', LANG)]]</div>
            </div>
            <template is="dom-repeat" items="[[user.addressList]]">
              <div class="sub-container">
                <div class="sub-header horizontal layout center">
                  <div class="type caption-2 secondary m-horizontal-4 flex">[[$TRANSLATE('Address', LANG)]] #{{$returnSerial(index)}}</div>
                  <paper-icon-button icon="delete" on-tap="_spliceAddress"></paper-icon-button>
                </div>
                <div class="sub-content">
                  <paper-input class="custom-input full-width" value="{{item.addressTitle}}" label="[[$TRANSLATE('Address Title', LANG)]]"></paper-input>
                  <paper-input class="custom-input full-width" value="{{item.addressLine1}}" label="[[$TRANSLATE('Address Line 1', LANG)]]"></paper-input>
                  <paper-input class="custom-input full-width" value="{{item.addressLine2}}" label="[[$TRANSLATE('Address Line 2', LANG)]]"></paper-input>
      
                  <div class="horizontal layout wrap">
                    <paper-input class="flex custom-input" value="{{item.addressDistrict}}" label="[[$TRANSLATE('Disctrict', LANG)]]"></paper-input>
                    <paper-input class="custom-input" value="{{item.subdistrictName}}" label="[[$TRANSLATE('Thana/Sub Disctrict', LANG)]]"></paper-input>
                  </div>
      
                  <paper-input class="custom-input full-width" value="{{item.addressCountry}}" label="[[$TRANSLATE('Country', LANG)]]"></paper-input>
      
                  <div class="horizontal layout end-justified p-8">
                    <paper-toggle-button class="m-left-16" checked="{{item.hideMoreAddressInput}}">[[$TRANSLATE('More Address options', LANG)]]</paper-toggle-button>
                  </div>
      
                  <div class="horizontal layout wrap" hidden$="[[!item.hideMoreAddressInput]]">
                    <paper-input class="custom-input" value="{{item.addressAreaName}}" label="[[$TRANSLATE('Area', LANG)]]"></paper-input>
                    <paper-input class="custom-input" value="{{item.flat}}" label="[[$TRANSLATE('Flat', LANG)]]"></paper-input>
                    <paper-input class="custom-input" value="{{item.floor}}" label="[[$TRANSLATE('Floor', LANG)]]"></paper-input>
                    <paper-input class="custom-input" value="{{item.plot}}" label="[[$TRANSLATE('Plot', LANG)]]"></paper-input>
                  
                    <paper-input class="custom-input" value="{{item.block}}" label="[[$TRANSLATE('Block', LANG)]]"></paper-input>
                    <paper-input class="custom-input" value="{{item.road}}" label="[[$TRANSLATE('Road', LANG)]]"></paper-input>
                    <paper-input class="custom-input" value="{{item.village}}" label="[[$TRANSLATE('Village', LANG)]]"></paper-input>
                  
                    <paper-input class="custom-input" value="{{item.addressUnion}}" label="[[$TRANSLATE('Union', LANG)]]"></paper-input>
      
                    <paper-input type="number" class="custom-input" value="{{item.addressPostalOrZipCode}}" label="[[$TRANSLATE('Postal/Zip Code', LANG)]]"></paper-input>
                    <paper-input class="custom-input" value="{{item.addressCityOrTown}}" label="[[$TRANSLATE('City/Town', LANG)]]"></paper-input>
      
                    <paper-input class="custom-input" value="{{item.stateOrProvince}}" label="[[$TRANSLATE('State/Province', LANG)]]"></paper-input>
                  </div>
                </div>
              </div>
            </template>
          </div>
          <div class="card-actions">
            <paper-button raised on-tap="_insertAddressObject" class="btn btn-primary">[[$TRANSLATE('Add Another Address', LANG)]] +</paper-button>
          </div>
        </paper-card>
        <!-- address - end -->

        <!-- Roles - Start -->
        <paper-card class="m-top-8">
          <div class="card-content">

            <div class="horizontal layout center">
              <div class="type body-lead primary flex">[[$TRANSLATE('Roles', LANG)]]</div>
            </div>
            <template is="dom-repeat" items="[[user.roles]]">
              <div class="sub-container">
                <div class="sub-header horizontal layout center">
                  <div class="type caption-2 secondary m-horizontal-4 flex"></div>
                </div>
              </div>
              <div class="horizontal layout center sub-content">
                <ul>
                  <li>{{item.roleName}}</li>
                </ul>
                <div class="flex"></div>
                <paper-icon-button icon="delete" on-tap="_spliceRole"></paper-icon-button>
              </div>
            </template>
          </div>
          <div class="card-actions">
            <paper-button raised on-tap="_addNewRolePressed" class="btn btn-primary">[[$TRANSLATE('Add Another Role', LANG)]] +</paper-button>
          </div>
        </paper-card>
        <!-- Roles - end -->

        <!-- Paper Card for Role Details - Start -->
        <paper-dialog id="dialogAddRoleDetails">

          <div class="card-custom-header">
            <div class="layout horizontal center">
              <iron-icon icon="bookmark" class="m-left-8"></iron-icon>
              <div class="title flex">[[$TRANSLATE('Add Role Details', LANG)]]</div>
            </div>
          </div>
          <div class="card-content">
            <paper-dropdown-menu class="full-width" label="[[$TRANSLATE('Select Role', LANG)]]" vertical-align="bottom">
              <paper-menu class="dropdown-content" selected="{{selectedRoleIndex}}">
                <template is="dom-repeat" items="[[roles]]">
                  <paper-item>[[item.roleName]]</paper-item>
                </template>
              </paper-menu>
            </paper-dropdown-menu>
        
            <template is="dom-repeat" items="{{selectedRole.requiredData}}">
              <paper-input class="flex" type="{{item.inputType}}" label="[[$TRANSLATE(item.label, LANG)]]" value="{{item.value}}" required
                auto-validate error-message="{{item.label}} is required!" minlength="2"></paper-input>
            </template>
          </div>
          <div class="card-actions">
            <paper-button raised class="btn btn-success" on-tap="roleSubmitBtnPressed">[[$TRANSLATE('Submit', LANG)]]</paper-button>
            <paper-button raised class="btn btn-danger" dialog-dismiss>[[$TRANSLATE('Dismiss', LANG)]]</paper-button>
          </div>
        </paper-dialog>
        <!-- Paper Card for Role Details - End -->
        
        <template is="dom-if" if="[[_isUserADoctor(user)]]">
          <!-- Specialization - Start -->
          <paper-card class="m-top-8">
            <div class="card-content">

              <div class="horizontal layout center">
                <div class="type body-lead primary flex">[[$TRANSLATE('Specialization', LANG)]]</div>

              </div>
              <template is="dom-repeat" items="[[user.specializationList]]">
                <div class="sub-container">
                  <div class="sub-header horizontal layout center">
                    <div class="type caption-2 secondary m-horizontal-4 flex">[[$TRANSLATE('Specialization', LANG)]] #{{$returnSerial(index)}}</div>
                    <paper-icon-button icon="delete" on-tap="_spliceSpecialization"></paper-icon-button>
                  </div>
                </div>
                <div class="sub-content">
                  <paper-input class="custom-input full-width" value="{{item.specializationTitle}}" label="[[$TRANSLATE('Specialization', LANG)]]"></paper-input>
                </div>
              </template>
            </div>
            <div class="card-actions">
              <paper-button raised on-tap="_insertSpecializationObject" class="btn btn-primary">[[$TRANSLATE('Add Another Specialization', LANG)]] +</paper-button>
            </div>
          </paper-card>
          <!-- Specialization - end -->

          <!-- Employment Details - Start -->
          <paper-card class="m-top-8">
            <div class="card-content">

              <div class="horizontal layout center">
                <div class="type body-lead primary flex">[[$TRANSLATE('Employment Details', LANG)]]</div>
              </div>
              <template is="dom-repeat" items="[[user.employmentDetailsList]]">
                <div class="sub-container">
                  <div class="sub-header horizontal layout center">
                    <div class="type caption-2 secondary m-horizontal-4 flex">[[$TRANSLATE('Employment Details', LANG)]] #{{$returnSerial(index)}}</div>
                    <paper-icon-button icon="delete" on-tap="_spliceEmployment"></paper-icon-button>
                  </div>
                </div>
                <div class="sub-content">
                  <paper-input class="custom-input full-width" value="{{item.currentPosition}}" label="[[$TRANSLATE('Current Position', LANG)]]"></paper-input>
                  <paper-input class="custom-input full-width" value="{{item.institutionName}}" label="[[$TRANSLATE('Institution Name', LANG)]]"></paper-input>
                  <paper-input class="custom-input full-width" value="{{item.institutionAddress}}" label="[[$TRANSLATE('Institution Address', LANG)]]"></paper-input>
                  <paper-input class="custom-input full-width" value="{{item.institutionWebsiteLink}}" label="[[$TRANSLATE('Institution Website Link', LANG)]]"></paper-input>
                </div>
              </template>
            </div>
            <div class="card-actions">
              <paper-button raised on-tap="_insertEmploymentObject" class="btn btn-primary">[[$TRANSLATE('Add Another Employment Detail', LANG)]] +</paper-button>
            </div>
          </paper-card>
          <!-- Employment Details - end -->

          <!-- Degree Details - Start -->
          <paper-card class="m-top-8">
            <div class="card-content">

              <div class="horizontal layout center">
                <div class="type body-lead primary flex">[[$TRANSLATE('Degree Details', LANG)]]</div>
              </div>
              <template is="dom-repeat" items="[[user.degreeList]]">
                <div class="sub-container">
                  <div class="sub-header horizontal layout center">
                    <div class="type caption-2 secondary m-horizontal-4 flex">[[$TRANSLATE('Degree Details', LANG)]] #{{$returnSerial(index)}}</div>
                    <paper-icon-button icon="delete" on-tap="_spliceDegree"></paper-icon-button>
                  </div>
                </div>
                <div class="sub-content">
                  <paper-input class="custom-input full-width" value="{{item.degreeTitle}}" label="[[$TRANSLATE('Degree', LANG)]]"></paper-input>
                  <paper-input class="custom-input full-width" value="{{item.degreeInstitution}}" label="[[$TRANSLATE('Institution Name', LANG)]]"></paper-input>
                  <paper-input  class="custom-input full-width" label="[[$TRANSLATE('Year', LANG)]]" value="{{item.degreeYear}}" type="number" pattern="[0-9]*" auto-validate
                    error-message="Year should consist of only 4 numbers" char-counter minlength="4" maxlength="4"></paper-input>
                  <paper-input class="custom-input full-width" value="{{item.degreeDetails}}" label="[[$TRANSLATE('Degree Details', LANG)]]"></paper-input>
                </div>
              </template>
            </div>
            <div class="card-actions">
              <paper-button raised on-tap="_insertDegreeObject" class="btn btn-primary">[[$TRANSLATE('Add Another Degree', LANG)]] +</paper-button>
            </div>
          </paper-card>
          <!-- Degree Details - end -->

          <!-- Award Details - Start -->
          <paper-card class="m-top-8">
            <div class="card-content">

              <div class="horizontal layout center">
                <div class="type body-lead primary flex">[[$TRANSLATE('Award Details', LANG)]]</div>
              </div>
              <template is="dom-repeat" items="[[user.awardList]]">
                <div class="sub-container">
                  <div class="sub-header horizontal layout center">
                    <div class="type caption-2 secondary m-horizontal-4 flex">[[$TRANSLATE('Award Details', LANG)]] #{{$returnSerial(index)}}</div>
                    <paper-icon-button icon="delete" on-tap="_spliceAward"></paper-icon-button>
                  </div>
                </div>
                <div class="sub-content">
                  <paper-input class="custom-input full-width" value="{{item.awardTitle}}" label="[[$TRANSLATE('Award Name', LANG)]]"></paper-input>
                  <paper-input class="custom-input full-width" value="{{item.awardDetails}}" label="[[$TRANSLATE('Award Details', LANG)]]"></paper-input>
                  <paper-input  class="custom-input full-width" label="[[$TRANSLATE('Year', LANG)]]" value="{{item.awardYear}}" type="number" pattern="[0-9]*" auto-validate
                    error-message="Year should consist of only 4 numbers" char-counter minlength="4" maxlength="4"></paper-input>
                  <paper-input class="custom-input full-width" value="{{item.awardWebUrl}}" label="[[$TRANSLATE('Award Releated Website Link', LANG)]]"></paper-input>
                </div>
              </template>
            </div>
            <div class="card-actions">
              <paper-button raised on-tap="_insertAwardListObject" class="btn btn-primary">[[$TRANSLATE('Add Another Award', LANG)]] +</paper-button>
            </div>
          </paper-card>
          <!-- Award Details - end -->

          <!-- Publication Details - Start -->
          <paper-card class="m-top-8">
            <div class="card-content">

              <div class="horizontal layout center">
                <div class="type body-lead primary flex">[[$TRANSLATE('Publication Details', LANG)]]</div>
              </div>
              <template is="dom-repeat" items="[[user.publicationList]]">
                <div class="sub-container">
                  <div class="sub-header horizontal layout center">
                    <div class="type caption-2 secondary m-horizontal-4 flex">[[$TRANSLATE('Publication Details', LANG)]] #{{$returnSerial(index)}}</div>
                    <paper-icon-button icon="delete" on-tap="_splicePublication"></paper-icon-button>
                  </div>
                </div>
                <div class="sub-content">
                  <paper-input class="custom-input full-width" value="{{item.publicationTitle}}" label="[[$TRANSLATE('Publication Title', LANG)]]"></paper-input>
                  <paper-input class="custom-input full-width" value="{{item.publicationUrl}}" label="[[$TRANSLATE('Publication URL', LANG)]]"></paper-input>
                </div>
              </template>
            </div>
            <div class="card-actions">
              <paper-button raised on-tap="_insertPublicationObject" class="btn btn-primary">[[$TRANSLATE('Add Another Publication', LANG)]] +</paper-button>
            </div>
          </paper-card>
          <!-- Publication Details - end -->

          <!-- Fax Number Details - Start -->
          <paper-card class="m-top-8">
            <div class="card-content">

              <div class="horizontal layout center">
                <div class="type body-lead primary flex">[[$TRANSLATE('Fax Numbers', LANG)]]</div>
              </div>
              <template is="dom-repeat" items="[[user.faxNumberList]]">
                <div class="sub-container">
                  <div class="sub-header horizontal layout center">
                    <div class="type caption-2 secondary m-horizontal-4 flex">[[$TRANSLATE('Fax Numbers', LANG)]] #{{$returnSerial(index)}}</div>
                    <paper-icon-button icon="delete" on-tap="_spliceFaxNumber"></paper-icon-button>
                  </div>
                </div>
                <div class="sub-content">
                  <paper-input class="custom-input full-width" value="{{item.faxNumber}}" label="[[$TRANSLATE('Fax Number', LANG)]]"></paper-input>
                  <paper-input class="custom-input full-width" value="{{item.faxNumberType}}" label="[[$TRANSLATE('Fax Number Type', LANG)]]"></paper-input>
                </div>
              </template>
            </div>
            <div class="card-actions">
              <paper-button raised on-tap="_insertFaxNumberObject" class="btn btn-primary">[[$TRANSLATE('Add Another Fax Number', LANG)]] +</paper-button>
            </div>
          </paper-card>
          <!-- Fax Number Details - end -->

          <!-- Social Connection Details - Start -->
          <paper-card class="m-top-8">
            <div class="card-content">

              <div class="horizontal layout center">
                <div class="type body-lead primary flex">[[$TRANSLATE('Social Connection Details', LANG)]]</div>
              </div>
              <template is="dom-repeat" items="[[user.socialConnectionList]]">
                <div class="sub-container">
                  <div class="sub-header horizontal layout center">
                    <div class="type caption-2 secondary m-horizontal-4 flex">[[$TRANSLATE('Social Connection Details', LANG)]] #{{$returnSerial(index)}}</div>
                    <paper-icon-button icon="delete" on-tap="_spliceSocialConnectionList"></paper-icon-button>
                  </div>
                </div>
                <div class="sub-content">
                  <paper-input class="custom-input full-width" value="{{item.socialConnectionTitle}}" label="[[$TRANSLATE('Social Media Name', LANG)]]"></paper-input>
                  <paper-input class="custom-input full-width" value="{{item.socialConnectionUrl}}" label="[[$TRANSLATE('Your Profile URL', LANG)]]"></paper-input>
                </div>
              </template>
            </div>
            <div class="card-actions">
              <paper-button raised on-tap="_insertSocialConnectionListObject" class="btn btn-primary">[[$TRANSLATE('Add Another Social Connection', LANG)]] +</paper-button>
            </div>
          </paper-card>
          <!-- Social Connection Details - end -->

          <!-- Website List Details - Start -->
          <paper-card class="m-top-8">
            <div class="card-content">

              <div class="horizontal layout center">
                <div class="type body-lead primary flex">[[$TRANSLATE('Website List', LANG)]]</div>
              </div>
              <template is="dom-repeat" items="[[user.websiteList]]">
                <div class="sub-container">
                  <div class="sub-header horizontal layout center">
                    <div class="type caption-2 secondary m-horizontal-4 flex">[[$TRANSLATE('Website List', LANG)]] #{{$returnSerial(index)}}</div>
                    <paper-icon-button icon="delete" on-tap="_spliceWebSite"></paper-icon-button>
                  </div>
                </div>
                <div class="sub-content">
                  <paper-input class="custom-input full-width" value="{{item.websiteTitle}}" label="[[$TRANSLATE('Website Name', LANG)]]"></paper-input>
                  <paper-input class="custom-input full-width" value="{{item.websiteUrl}}" label="[[$TRANSLATE('Website URL', LANG)]]"></paper-input>
                </div>
              </template>
            </div>
            <div class="card-actions">
              <paper-button raised on-tap="_insertWebSiteObject" class="btn btn-primary">[[$TRANSLATE('Add Another Website', LANG)]] +</paper-button>
            </div>
          </paper-card>
          <!-- Website List Details - end -->
        </template>

      </div>
    </div>

    <!-- Dialog Add and Verify New Phone Number or Email - Start -->
    <paper-dialog id="dialogAddEmailOrPhone">

      <div class="card-custom-header">
        <div class="layout horizontal center">
          <iron-icon icon="{{newAddress.icon}}" class="m-left-8"></iron-icon>
          <div class="title flex">Add New {{newAddress.type}}</div>
        </div>
      </div>
      <div class="card-content">

        <template is="dom-if" if="{{$equals(newAddress.type, 'phone number')}}">
          <paper-input type="text" value="{{newAddress.emailOrPhone}}" label="[[$TRANSLATE('Phone Number', LANG)]]" char-counter minlength="11" maxlength="14" required auto-validate error-message="Please Enter valid Phone. i.e. 01712345678 or 01712345678-12">
            <div prefix>+88</div>
          </paper-input>
        </template>

        <template is="dom-if" if="{{$equals(newAddress.type, 'email')}}">
          <paper-input type="email" value="{{newAddress.emailOrPhone}}" label="[[$TRANSLATE('Email', LANG)]]" required error-message="Please enter valid email address!">
          </paper-input>
        </template>
        

        <paper-input type="number" required  label="[[$TRANSLATE('Verification Code', LANG)]]" value="{{newAddress.code}}" char-counter minlength="6" maxlength="6"></paper-input>
        <!-- <div class="type body">Please type "bdemr verify" and send it to 26969 (If your phone number has extension e.g, 01700000000-10, type "bdemr verify 10" instead). After that You will recieve an sms with verificaiton code. <i>Charge Apply</i></div> -->
        
      </div>
      <div class="buttons m-top-24">
        
        <paper-button dialog-dismiss>[[$TRANSLATE('Cancel', LANG)]]</paper-button>
        <paper-button raised class="btn btn-success" on-tap="_addAndVerifyNewEmailOrPhoneNumber">[[$TRANSLATE('Add & Verify', LANG)]]</paper-button>
      </div>
    </paper-dialog>
    <!-- Dialog Add and Verify New Phone Number or Email - End -->


  </template>
  <script src="page-profile-editor.coffee-compiled.js"></script>
</dom-module>
